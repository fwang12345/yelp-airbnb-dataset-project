<!DOCTYPE html>
<html ng-app="angularjsNodejsTutorial">

<head>
    <title>Create a New Account</title>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.2/angular.js"></script>
    <script src="javascripts/app.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <!-- Custom styles for this template-->
    <link href="/stylesheets/common.css" rel="stylesheet">
    <link href="/stylesheets/house.css" rel="stylesheet">
    <style>
        /* Set the size of the div element that contains the map */
        #map {
            height: 400px;  /* The height is 400 pixels */
            width: 100%;  /* The width is the width of the web page */
        }
    </style>
</head>

<body>

<div class="container listing-container" ng-controller="listingController" ng-init="category = 'Housing'">
    <div class="jumbotron" >
        <div class="top">
            <div class="h5">Edit Trip: [trip name here]</div>
            <div>Note: I will assume I have the city from the previous page</div>
            <div>Add a new activity!</div>

            <label>Category
                <input type="radio" name="category" ng-model="category" ng-value="'Housing'" ng-checked="true">Housing
                <input type="radio" name="category" ng-model="category" ng-value="'Restaurant'">Restaurant
                <input type="radio" name="category" ng-model="category" ng-value="'Activity'">Activity
            </label>

            <div ng-if="category == 'Housing'">
                <form class="form-inline" id="top">
                    <label>City
                        <select class="dropdown" ng-model="city" ng-options="city for city in cities"></select>
                    </label>
                    <label>Beds
                        <select class="dropdown" ng-model="beds" ng-options="num for num in nums"></select>
                    </label>
                    <label>Bedrooms
                        <select class="dropdown" ng-model="rooms" ng-options="num for num in nums"></select>
                    </label>
                    <label>Bathrooms
                        <select class="dropdown" ng-model="baths" ng-options="num for num in nums"></select>
                    </label>
                </form>
                <button type="submit" class="btn btn-primary" ng-click="searchHouse(city, beds, rooms, baths)">Search</button>
                <!-- <form class="form-inline" >
                    <div class="genres-container">
                        <label >Order By:
                            <div class="orderBy" ng-repeat="type in orderByHousing" ng-click="orderByThis(type)">{{type}}</div>
                        </label>
                    </div>
                </form> -->
            </div>
            <div ng-cloak ng-if="category == 'Restaurant'">
                <form class="form-inline" id="top">
                    <label>Cuisine
                        <select class="dropdown" ng-model="cuisine" ng-options="cuisine for cuisine in cuisines"></select>
                    </label>
                </form>
                <button type="submit" class="btn btn-primary" ng-click="searchBus(cuisine)">Search</button>
                <!-- <form class="form-inline" >
                    <label>Min Rating
                        <select class="dropdown" ng-model="number3" ng-options="num for num in nums"></select>
                    </label>
                    <label>Max Rating
                        <select class="dropdown" ng-model="number4" ng-options="num for num in nums"></select>
                    </label>
                </form>
                <form class="form-inline" >
                    <label>Min No. of Reviews
                        <select class="dropdown" ng-model="numbers" ng-options="num for num in nums"></select>
                    </label>
                    <label>Max No. of Reviews
                        <select class="dropdown" ng-model="numbers" ng-options="num for num in nums"></select>
                    </label>
                </form> -->
                <!-- <form class="form-inline" >
                    <div class="genres-container">
                        <label >Order By:
                            <div class="orderBy" ng-repeat="type in orderByActivity" ng-click="orderByThis(type)">{{type}}</div>
                        </label>
                    </div>
                </form> -->
            </div>
            <div ng-cloak ng-if="category == 'Activity'">
                <form class="form-inline" id="top">
                    <label>Activity
                        <select class="dropdown" ng-model="act" ng-options="act for act in acts"></select>
                    </label>
                </form>
                <button type="submit" class="btn btn-primary" ng-click="searchBus(act)">Search</button>
                <!-- <form class="form-inline" >
                    <label>Min Rating
                        <select class="dropdown" ng-model="numbers" ng-options="num for num in nums"></select>
                    </label>
                    <label>Max Rating
                        <select class="dropdown" ng-model="numbers" ng-options="num for num in nums"></select>
                    </label>
                </form>
                <form class="form-inline" >
                    <label>Min No. of Reviews
                        <select class="dropdown" ng-model="numbers" ng-options="num for num in nums"></select>
                    </label>
                    <label>Max No. of Reviews
                        <select class="dropdown" ng-model="numbers" ng-options="num for num in nums"></select>
                    </label>
                </form> -->
                <!-- <form class="form-inline" >
                    <div class="genres-container">
                        <label >Order By:
                            <div class="orderBy" ng-repeat="type in orderByActivity" ng-click="orderByThis(type)">{{type}}</div>
                        </label>
                    </div>
                </form> -->
            </div>
        </div>
    </div>

<div class="container bottom-container">
    <h3 ng-show = "list_show">Listings:</h3>
    <div class="table">
        <table ng-show="list_show" class="table table-bordered">
            <thead>
            <th>ID</th>
            <th>Name</th>
            <th>Zipcode</th>
            <th>Beds</th>
            <th>Bedrooms</th>
            <th>Bathrooms</th>
            <th>Price</th>
            <th>Reviews</th>
            <th>Rating</th>
            </thead>
            <tr ng-repeat="x in listing">
                <td>{{x.id}}</td>
                <td>{{x.name}}</td>
                <td>{{x.zipcode}}</td>
                <td>{{x.beds}}</td>
                <td>{{x.bedrooms}}</td>
                <td>{{x.bathrooms}}</td>
                <td>{{x.price}}</td>
                <td>{{x.reviews}}</td>
                <td>{{x.rating}}</td>
            </tr>
        </table>
    </div>
    <h3 ng-show = "bus_show">Business:</h3>
    <div class="table">
        <table ng-show="bus_show" class="table table-bordered">
            <thead>
            <th>ID</th>
            <th>Name</th>
            <th>Address</th>
            <th>Zipcode</th>
            <th>Reviews</th>
            <th>Stars</th>
            </thead>
            <tr ng-repeat="x in business">
                <td>{{x.business_id}}</td>
                <td>{{x.name}}</td>
                <td>{{x.address}}</td>
                <td>{{x.zipcode}}</td>
                <td>{{x.reviews}}</td>
                <td>{{x.stars}}</td>    
            </tr>
        </table>
    </div>
    <div class="container map-container">
        <div id="map"></div>
        <div class="form">
            <form>
                <div class="form-group">
                    <label class="h2" for="listing_id">
                        Listing ID
                    </label>
                    <input type="number" class="form-control" id="listing_id" placeholder="Enter Listing ID" ng-model="id">
                </div>
                <button type="submit" class="btn btn-primary" ng-click="recommend(id)">Submit</button>
            </form>
        </div>
    </div>
</div>
</div>

<!-- Include these before the end of body tag in every HTML file -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<script>
    // Initialize and add the map
    function initMap() {
        // The location of Uluru
        var uluru = {lat: -25.344, lng: 131.036};
        // The map, centered at Uluru
        var map = new google.maps.Map(
            document.getElementById('map'), {zoom: 4, center: uluru});
        // The marker, positioned at Uluru
        var marker = new google.maps.Marker({position: uluru, map: map});
    }
</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA0ZwDNT51Eea_HbQ6L3PmNpM8YZcKtV9w&callback=initMap">
</script>

</body>

</html>